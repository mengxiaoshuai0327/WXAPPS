# å®‰è£…çŠ¶æ€

## âœ… å·²å®Œæˆ

1. **åŽç«¯ä¾èµ–å®‰è£…** âœ“
   - å·²æ‰§è¡Œ `npm install`
   - æ‰€æœ‰ä¾èµ–åŒ…å·²å®‰è£…ï¼ˆ161ä¸ªåŒ…ï¼‰

2. **çŽ¯å¢ƒé…ç½®æ–‡ä»¶** âœ“
   - `.env` æ–‡ä»¶å·²åˆ›å»º
   - `ENV_CONFIG.md` é…ç½®è¯´æ˜Žå·²åˆ›å»º

3. **æ•°æ®åº“åˆå§‹åŒ–è„šæœ¬** âœ“
   - `scripts/init-db.js` - æ•°æ®åº“åˆå§‹åŒ–è„šæœ¬
   - `scripts/test-connection.js` - æ•°æ®åº“è¿žæŽ¥æµ‹è¯•è„šæœ¬
   - å·²æ·»åŠ åˆ° `package.json` çš„ scripts ä¸­

4. **ä¸Šä¼ ç›®å½•** âœ“
   - `uploads/` ç›®å½•å·²åˆ›å»º

## âš ï¸ éœ€è¦é…ç½®

### 1. é…ç½®æ•°æ®åº“ä¿¡æ¯

ç¼–è¾‘ `backend/.env` æ–‡ä»¶ï¼Œä¿®æ”¹ä»¥ä¸‹é…ç½®ï¼š

```env
DB_PASSWORD=your_password  # æ”¹ä¸ºä½ çš„ MySQL å¯†ç 
```

### 2. é…ç½®å¾®ä¿¡å°ç¨‹åºä¿¡æ¯

åœ¨å¾®ä¿¡å…¬ä¼—å¹³å°èŽ·å– AppID å’Œ Secretï¼Œå¡«å…¥ `.env` æ–‡ä»¶ï¼š

```env
WX_APPID=your_wechat_appid    # æ›¿æ¢ä¸ºå®žé™… AppID
WX_SECRET=your_wechat_secret  # æ›¿æ¢ä¸ºå®žé™… Secret
```

### 3. é…ç½® JWT å¯†é’¥

ç”Ÿæˆä¸€ä¸ªå®‰å…¨çš„éšæœºå­—ç¬¦ä¸²ä½œä¸º JWT_SECRETï¼š

```bash
openssl rand -base64 32
```

å°†ç”Ÿæˆçš„å­—ç¬¦ä¸²å¡«å…¥ `.env` æ–‡ä»¶ä¸­çš„ `JWT_SECRET`

## ðŸ“‹ ä¸‹ä¸€æ­¥æ“ä½œ

### æ­¥éª¤ 1: æµ‹è¯•æ•°æ®åº“è¿žæŽ¥
```bash
cd backend
npm run test-db
```

å¦‚æžœè¿žæŽ¥æˆåŠŸï¼Œç»§ç»­ä¸‹ä¸€æ­¥ã€‚

### æ­¥éª¤ 2: åˆå§‹åŒ–æ•°æ®åº“
```bash
npm run init-db
```

è¿™å°†åˆ›å»ºæ•°æ®åº“å’Œæ‰€æœ‰å¿…è¦çš„è¡¨ã€‚

### æ­¥éª¤ 3: å¯åŠ¨åŽç«¯æœåŠ¡
```bash
npm start
# æˆ–å¼€å‘æ¨¡å¼ï¼ˆè‡ªåŠ¨é‡å¯ï¼‰
npm run dev
```

æœåŠ¡å°†åœ¨ http://localhost:3000 å¯åŠ¨

### æ­¥éª¤ 4: é…ç½®å°ç¨‹åºå‰ç«¯

ç¼–è¾‘ `miniprogram/app.js`ï¼Œä¿®æ”¹ API åœ°å€ï¼š
```javascript
apiBaseUrl: 'http://localhost:3000/api'
```

### æ­¥éª¤ 5: å®‰è£…ç®¡ç†åŽå°ä¾èµ–
```bash
cd ../admin
npm install
```

## ðŸ” æ•…éšœæŽ’æŸ¥

### æ•°æ®åº“è¿žæŽ¥å¤±è´¥
- æ£€æŸ¥ MySQL æœåŠ¡æ˜¯å¦è¿è¡Œï¼š`brew services list` (macOS) æˆ– `systemctl status mysql` (Linux)
- ç¡®è®¤ `.env` ä¸­çš„æ•°æ®åº“å¯†ç æ­£ç¡®
- ç¡®è®¤æ•°æ®åº“ç”¨æˆ·æœ‰è¶³å¤Ÿæƒé™

### ç«¯å£è¢«å ç”¨
- ä¿®æ”¹ `.env` ä¸­çš„ `PORT` ä¸ºå…¶ä»–ç«¯å£ï¼ˆå¦‚ 3001ï¼‰

### å…¶ä»–é—®é¢˜
- æŸ¥çœ‹ `ENV_CONFIG.md` èŽ·å–è¯¦ç»†é…ç½®è¯´æ˜Ž
- æ£€æŸ¥ Node.js ç‰ˆæœ¬ï¼š`node -v`ï¼ˆéœ€è¦ >= 14.0.0ï¼‰

